{"changed":true,"filter":false,"title":"hello-world.php","tooltip":"/hello-world.php","value":"<?php\nheader(\"Content-Type: text/event-stream\\n\\n\");\n\n$counter = rand(1, 10);\nwhile (1) {\n  // Every second, sent a \"ping\" event.\n  \n  //echo \"event: ping\\n\";\n  $curDate = date(DATE_ISO8601);\n  echo 'data: This is a message at time ' . $curDate . \"\\n\\n\";\n  //echo \"\\n\\n\";\n  \n  // Send a simple message at random intervals.\n  \n//   $counter--;\n  \n//   if (!$counter) {\n//     echo 'data: This is a message at time ' . $curDate . \"\\n\\n\";\n//     $counter = rand(1, 10);\n//   }\n  \n  ob_end_flush();\n  flush();\n  sleep(1);\n}\n?>","undoManager":{"mark":21,"position":23,"stack":[[{"start":{"row":0,"column":0},"end":{"row":10,"column":7},"action":"remove","lines":["<html><body>","<?php","// A simple web site in Cloud9 that runs through Apache","// Press the 'Run' button on the top to start the web server,","// then click the URL that is emitted to the Output tab of the console","","echo 'Hello world from Cloud9!';","","?>","</body>","</html>"],"id":2},{"start":{"row":0,"column":0},"end":{"row":7,"column":2},"action":"insert","lines":["<?php","header('Content-Type: text/event-stream');","header('Cache-Control: no-cache');","","$time = date('r');","echo \"data: The server time is: {$time}\\n\\n\";","flush();","?>"]}],[{"start":{"row":1,"column":0},"end":{"row":6,"column":8},"action":"remove","lines":["header('Content-Type: text/event-stream');","header('Cache-Control: no-cache');","","$time = date('r');","echo \"data: The server time is: {$time}\\n\\n\";","flush();"],"id":4},{"start":{"row":1,"column":0},"end":{"row":25,"column":1},"action":"insert","lines":["date_default_timezone_set(\"America/New_York\");","header(\"Content-Type: text/event-stream\\n\\n\");","","$counter = rand(1, 10);","while (1) {","  // Every second, sent a \"ping\" event.","  ","  echo \"event: ping\\n\";","  $curDate = date(DATE_ISO8601);","  echo 'data: {\"time\": \"' . $curDate . '\"}';","  echo \"\\n\\n\";","  ","  // Send a simple message at random intervals.","  ","  $counter--;","  ","  if (!$counter) {","    echo 'data: This is a message at time ' . $curDate . \"\\n\\n\";","    $counter = rand(1, 10);","  }","  ","  ob_end_flush();","  flush();","  sleep(1);","}"]}],[{"start":{"row":15,"column":0},"end":{"row":15,"column":3},"action":"insert","lines":["// "],"id":5},{"start":{"row":17,"column":0},"end":{"row":17,"column":3},"action":"insert","lines":["// "]},{"start":{"row":18,"column":0},"end":{"row":18,"column":3},"action":"insert","lines":["// "]},{"start":{"row":19,"column":0},"end":{"row":19,"column":3},"action":"insert","lines":["// "]},{"start":{"row":20,"column":0},"end":{"row":20,"column":3},"action":"insert","lines":["// "]}],[{"start":{"row":8,"column":2},"end":{"row":8,"column":3},"action":"insert","lines":["/"],"id":6}],[{"start":{"row":8,"column":3},"end":{"row":8,"column":4},"action":"insert","lines":["/"],"id":7}],[{"start":{"row":10,"column":14},"end":{"row":10,"column":15},"action":"remove","lines":["{"],"id":8}],[{"start":{"row":10,"column":14},"end":{"row":10,"column":15},"action":"remove","lines":["\""],"id":9}],[{"start":{"row":10,"column":18},"end":{"row":10,"column":19},"action":"remove","lines":["\""],"id":10}],[{"start":{"row":10,"column":20},"end":{"row":10,"column":21},"action":"remove","lines":["\""],"id":11}],[{"start":{"row":10,"column":36},"end":{"row":10,"column":37},"action":"remove","lines":["\""],"id":12}],[{"start":{"row":10,"column":36},"end":{"row":10,"column":37},"action":"remove","lines":["}"],"id":13}],[{"start":{"row":10,"column":36},"end":{"row":10,"column":37},"action":"remove","lines":["'"],"id":14}],[{"start":{"row":10,"column":34},"end":{"row":10,"column":37},"action":"remove","lines":[" ';"],"id":16},{"start":{"row":10,"column":34},"end":{"row":10,"column":42},"action":"insert","lines":[" \"\\n\\n\";"]}],[{"start":{"row":11,"column":2},"end":{"row":11,"column":3},"action":"insert","lines":["/"],"id":17}],[{"start":{"row":11,"column":3},"end":{"row":11,"column":4},"action":"insert","lines":["/"],"id":18}],[{"start":{"row":10,"column":35},"end":{"row":10,"column":36},"action":"remove","lines":["\""],"id":19},{"start":{"row":10,"column":35},"end":{"row":10,"column":36},"action":"insert","lines":["'"]}],[{"start":{"row":10,"column":40},"end":{"row":10,"column":41},"action":"remove","lines":["\""],"id":20},{"start":{"row":10,"column":40},"end":{"row":10,"column":41},"action":"insert","lines":["'"]}],[{"start":{"row":10,"column":2},"end":{"row":10,"column":42},"action":"remove","lines":["echo 'data: time: ' . $curDate . '\\n\\n';"],"id":21},{"start":{"row":10,"column":2},"end":{"row":10,"column":62},"action":"insert","lines":["echo 'data: This is a message at time ' . $curDate . \"\\n\\n\";"]}],[{"start":{"row":24,"column":2},"end":{"row":24,"column":3},"action":"insert","lines":["/"],"id":22}],[{"start":{"row":24,"column":3},"end":{"row":24,"column":4},"action":"insert","lines":["/"],"id":23}],[{"start":{"row":24,"column":3},"end":{"row":24,"column":4},"action":"remove","lines":["/"],"id":24}],[{"start":{"row":24,"column":2},"end":{"row":24,"column":3},"action":"remove","lines":["/"],"id":25}],[{"start":{"row":1,"column":0},"end":{"row":1,"column":46},"action":"remove","lines":["date_default_timezone_set(\"America/New_York\");"],"id":26}],[{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"action":"remove","lines":["",""],"id":27}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":1,"column":0},"end":{"row":1,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1462111998006}